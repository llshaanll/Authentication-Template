<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/auth/SignupForm.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/auth/SignupForm.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview User Registration Form Component
 * 
 * Provides a comprehensive user registration interface with multi-field validation,
 * password strength enforcement, and duplicate entry prevention. Implements secure
 * registration flow with real-time validation feedback and success state management.
 * 
 * Features:
 * - Multi-field form validation (name, email, password, confirmation)
 * - Password strength requirements (minimum 8 characters)
 * - Password confirmation matching
 * - Optional contact number field
 * - Real-time error clearing on user input
 * - Success screen with automatic redirect
 * - Loading state during registration
 * - Responsive design with Tailwind CSS
 * 
 * Security Considerations:
 * - Password transmitted securely over HTTPS
 * - Confirmation password never sent to server
 * - Email validation prevents basic injection attempts
 * - Duplicate email detection handled server-side
 * - No sensitive data logged or exposed in errors
 * 
 * User Experience Flow:
 * 1. User fills registration form
 * 2. Client-side validation on submit
 * 3. API registration request
 * 4. Success screen displayed (2 seconds)
 * 5. Automatic redirect to login page
 * 
 * @module components/auth/SignupForm
 * @requires react
 * @requires react-router-dom
 * @requires ../../context/AuthContext
 * @requires ../common/Input
 * @requires ../common/Button
 * 
 * @author mr.shaan
 * @version 1.0.0
 * @since 2025-12-16
 * 
 * @example
 * // Basic usage in React Router
 * &lt;Route path="/signup" element={&lt;SignupForm />} />
 * 
 * @example
 * // With custom success redirect
 * import { SignupForm } from './components/auth/SignupForm';
 * 
 * function App() {
 *   return (
 *     &lt;Routes>
 *       &lt;Route path="/register" element={&lt;SignupForm />} />
 *     &lt;/Routes>
 *   );
 * }
 */

import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import Input from '../common/Input';
import Button from '../common/Button';


/**
 * SignupForm Component
 * 
 * Renders a secure user registration form with comprehensive validation.
 * Manages form state, validation errors, and success flow with automatic
 * redirect to login page after successful registration.
 * 
 * Component States:
 * - Form: Collecting user registration data
 * - Validating: Client-side validation in progress
 * - Submitting: API registration request in progress
 * - Success: Registration completed, showing success screen
 * - Error: Display validation or API errors
 * 
 * Validation Rules:
 * - Name: Required, must be non-empty after trim
 * - Email: Required, must match email pattern
 * - Password: Required, minimum 8 characters
 * - Confirm Password: Must match password field
 * - Contact: Optional, no validation
 * 
 * @component
 * @returns {React.ReactElement} Rendered registration form or success screen
 * 
 * @throws {Error} Propagates registration errors to user via error state
 */
const SignupForm = () => {
  /**
   * React Router navigation hook for programmatic routing
   * @type {Function}
   */
  const navigate = useNavigate();
  
  /**
   * Authentication context providing registration method
   * @type {Object}
   * @property {Function} register - Registers new user with server
   * @property {boolean} loading - True during registration API request
   */
  const { register, loading } = useAuth();
  
  /**
   * Form input state object containing all registration fields
   * @type {Object}
   * @property {string} name - User's full name
   * @property {string} email - User's email address (unique)
   * @property {string} password - User's chosen password (min 8 chars)
   * @property {string} confirmPassword - Password confirmation (client-side only)
   * @property {string} contact - Optional contact number
   */
  const [formData, setFormData] = useState({
    name: '',
    email: '',
    password: '',
    confirmPassword: '',
    contact: '',
  });
  
  /**
   * Form validation and API error state
   * @type {Object.&lt;string, string>}
   * @property {string} [name] - Name validation error message
   * @property {string} [email] - Email validation error message
   * @property {string} [password] - Password validation error message
   * @property {string} [confirmPassword] - Password confirmation error
   * @property {string} [contact] - Contact validation error message
   * @property {string} [submit] - API registration error message
   */
  const [errors, setErrors] = useState({});
  
  /**
   * Success state flag for showing post-registration screen
   * @type {boolean}
   */
  const [success, setSuccess] = useState(false);


  /**
   * Handles input field changes and clears associated errors
   * 
   * Updates form data state immutably and implements optimistic
   * error clearing to improve UX. Errors are removed as soon as
   * the user starts correcting their input.
   * 
   * @function handleChange
   * @param {React.ChangeEvent&lt;HTMLInputElement>} e - Input change event
   * @returns {void}
   * 
   * @example
   * &lt;input name="email" onChange={handleChange} />
   */
  const handleChange = (e) => {
    const { name, value } = e.target;
    
    // Update form data immutably
    setFormData(prev => ({ ...prev, [name]: value }));
    
    // Clear field-specific error when user starts typing
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: null }));
    }
  };


  /**
   * Validates all form fields before submission
   * 
   * Implements comprehensive validation rules:
   * - Name: Required, non-empty string
   * - Email: Required, valid email format
   * - Password: Required, minimum 8 characters
   * - Confirm Password: Must match password field
   * - Contact: Optional, no validation
   * 
   * Validation Priority:
   * 1. Required field checks
   * 2. Format validation (email pattern)
   * 3. Length validation (password minimum)
   * 4. Cross-field validation (password matching)
   * 
   * @function validate
   * @returns {Object.&lt;string, string>} Object containing all validation errors
   * @returns {string} [return.name] - Name validation error
   * @returns {string} [return.email] - Email validation error
   * @returns {string} [return.password] - Password validation error
   * @returns {string} [return.confirmPassword] - Password match error
   * 
   * @example
   * const errors = validate();
   * if (Object.keys(errors).length > 0) {
   *   setErrors(errors);
   *   return;
   * }
   */
  const validate = () => {
    const newErrors = {};
    
    // Name validation: Required field
    if (!formData.name.trim()) {
      newErrors.name = 'Name is required';
    }
    
    // Email validation: Required + format check
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    // Password validation: Required + minimum length
    if (!formData.password) {
      newErrors.password = 'Password is required';
    } else if (formData.password.length &lt; 8) {
      newErrors.password = 'Password must be at least 8 characters';
    }
    
    // Confirm password validation: Must match password
    if (formData.password !== formData.confirmPassword) {
      newErrors.confirmPassword = 'Passwords do not match';
    }
    
    return newErrors;
  };


  /**
   * Handles form submission with validation and registration
   * 
   * Registration Flow:
   * 1. Prevents default form submission
   * 2. Validates all form fields
   * 3. Returns early if validation fails
   * 4. Removes confirmPassword from data (not sent to server)
   * 5. Calls register method from AuthContext
   * 6. Sets success state on successful registration
   * 7. Navigates to login after 2-second delay
   * 8. Displays error message on failure
   * 
   * Security Notes:
   * - confirmPassword never sent to server
   * - Password transmitted over HTTPS
   * - Server performs additional validation
   * - Duplicate email detection server-side
   * - Rate limiting applied at API level
   * 
   * @async
   * @function handleSubmit
   * @param {React.FormEvent&lt;HTMLFormElement>} e - Form submission event
   * @returns {Promise&lt;void>}
   * 
   * @throws {Error} Registration errors are caught and displayed to user
   * 
   * @example
   * &lt;form onSubmit={handleSubmit}>
   *   // form fields
   * &lt;/form>
   */
  const handleSubmit = async (e) => {
    e.preventDefault();
    
    // Client-side validation
    const newErrors = validate();
    if (Object.keys(newErrors).length > 0) {
      setErrors(newErrors);
      return;
    }

    try {
      // Remove confirmPassword before sending to server
      // Only server needs: name, email, password, contact
      const { confirmPassword, ...registrationData } = formData;
      
      // Register user via AuthContext
      await register(registrationData);
      
      // Show success screen
      setSuccess(true);
      
      // Auto-redirect to login after 2 seconds
      setTimeout(() => {
        navigate('/login');
      }, 2000);
      
    } catch (error) {
      // Display registration error to user
      // Error message already sanitized by AuthService
      setErrors({ submit: error.message });
    }
  };


  /**
   * Success Screen Render
   * 
   * Displayed after successful registration with:
   * - Animated checkmark icon
   * - Success message
   * - Redirect notification
   * - Auto-redirect to login (2 seconds)
   * 
   * This provides positive feedback and clear next steps
   * for the user after completing registration.
   */
  if (success) {
    return (
      &lt;div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-gray-100 px-4">
        &lt;div className="card max-w-md w-full text-center">
          {/* Success Icon */}
          &lt;div className="mb-4">
            &lt;svg 
              className="w-16 h-16 text-green-500 mx-auto" 
              fill="none" 
              stroke="currentColor" 
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              &lt;path 
                strokeLinecap="round" 
                strokeLinejoin="round" 
                strokeWidth={2} 
                d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" 
              />
            &lt;/svg>
          &lt;/div>
          
          {/* Success Message */}
          &lt;h2 className="text-2xl font-bold text-gray-900 mb-2">
            Registration Successful!
          &lt;/h2>
          &lt;p className="text-gray-600 mb-4">
            Redirecting to login...
          &lt;/p>
        &lt;/div>
      &lt;/div>
    );
  }


  /**
   * Registration Form Render
   * 
   * Layout Structure:
   * - Full-screen centered container
   * - Gradient background
   * - White card with form
   * - Form header with title
   * - Input fields (name, email, contact, password, confirm)
   * - Error message display
   * - Submit button with loading state
   * - Sign-in link for existing users
   * 
   * Accessibility Features:
   * - Semantic HTML (form, label, input)
   * - Required field indicators
   * - Error announcements with ARIA
   * - Keyboard navigation support
   * - Focus management
   * - Screen reader friendly
   * 
   * Form Fields Order:
   * 1. Name (required)
   * 2. Email (required)
   * 3. Contact (optional)
   * 4. Password (required)
   * 5. Confirm Password (required)
   */
  return (
    &lt;div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-gray-100 px-4 py-8">
      &lt;div className="card max-w-md w-full">
        {/* Form Header */}
        &lt;div className="text-center mb-8">
          &lt;h1 className="text-3xl font-bold text-gray-900 mb-2">Create Account&lt;/h1>
          &lt;p className="text-gray-600">Sign up to get started&lt;/p>
        &lt;/div>

        {/* Registration Form */}
        &lt;form onSubmit={handleSubmit} className="space-y-4" noValidate>
          {/* Full Name Input */}
          &lt;Input
            label="Full Name"
            type="text"
            name="name"
            value={formData.name}
            onChange={handleChange}
            placeholder="John Doe"
            required
            error={errors.name}
            autoComplete="name"
            aria-describedby={errors.name ? "name-error" : undefined}
          />

          {/* Email Address Input */}
          &lt;Input
            label="Email Address"
            type="email"
            name="email"
            value={formData.email}
            onChange={handleChange}
            placeholder="john@example.com"
            required
            error={errors.email}
            autoComplete="email"
            aria-describedby={errors.email ? "email-error" : undefined}
          />

          {/* Contact Number Input (Optional) */}
          &lt;Input
            label="Contact Number"
            type="tel"
            name="contact"
            value={formData.contact}
            onChange={handleChange}
            placeholder="+1234567890"
            error={errors.contact}
            autoComplete="tel"
            aria-describedby={errors.contact ? "contact-error" : undefined}
          />

          {/* Password Input */}
          &lt;Input
            label="Password"
            type="password"
            name="password"
            value={formData.password}
            onChange={handleChange}
            placeholder="••••••••"
            required
            error={errors.password}
            autoComplete="new-password"
            aria-describedby={errors.password ? "password-error" : undefined}
          />

          {/* Confirm Password Input */}
          &lt;Input
            label="Confirm Password"
            type="password"
            name="confirmPassword"
            value={formData.confirmPassword}
            onChange={handleChange}
            placeholder="••••••••"
            required
            error={errors.confirmPassword}
            autoComplete="new-password"
            aria-describedby={errors.confirmPassword ? "confirm-password-error" : undefined}
          />

          {/* API Error Message Display */}
          {errors.submit &amp;&amp; (
            &lt;div 
              className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"
              role="alert"
              aria-live="assertive"
            >
              {errors.submit}
            &lt;/div>
          )}

          {/* Submit Button */}
          &lt;Button 
            type="submit" 
            fullWidth 
            loading={loading}
            aria-label={loading ? 'Creating account...' : 'Create your account'}
          >
            Create Account
          &lt;/Button>

          {/* Sign-in Link for Existing Users */}
          &lt;p className="text-center text-sm text-gray-600">
            Already have an account?{' '}
            &lt;Link 
              to="/login" 
              className="text-orange-600 hover:text-orange-700 font-semibold transition-colors"
              aria-label="Navigate to sign in page"
            >
              Sign in
            &lt;/Link>
          &lt;/p>
        &lt;/form>
      &lt;/div>
    &lt;/div>
  );
};


export default SignupForm;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_auth_LoginForm.html">components/auth/LoginForm</a></li><li><a href="module-components_auth_SignupForm.html">components/auth/SignupForm</a></li><li><a href="module-components_common_Input.html">components/common/Input</a></li><li><a href="module-components_common_ProtectedRoute.html">components/common/ProtectedRoute</a></li><li><a href="module-components_layout_Header.html">components/layout/Header</a></li><li><a href="module-context_AuthContext.html">context/AuthContext</a></li><li><a href="module-services_ApiClient.html">services/ApiClient</a></li><li><a href="module-services_AuthService.html">services/AuthService</a></li><li><a href="module-utils_TokenManager.html">utils/TokenManager</a></li></ul><h3>Classes</h3><ul><li><a href="module-services_ApiClient-ApiClient.html">ApiClient</a></li><li><a href="module-services_AuthService-AuthService.html">AuthService</a></li><li><a href="module-utils_TokenManager-TokenManager.html">TokenManager</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Tue Dec 16 2025 02:17:08 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
