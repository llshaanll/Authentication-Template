<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: components/auth/LoginForm.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: components/auth/LoginForm.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @fileoverview Login Form Component
 * 
 * Provides a secure login interface with client-side validation, error handling,
 * and integration with the authentication context. Implements form state management
 * and real-time validation feedback following enterprise best practices.
 * 
 * Features:
 * - Client-side email and password validation
 * - Real-time error clearing on user input
 * - Loading state management during authentication
 * - Automatic navigation on successful login
 * - Accessible form controls with ARIA support
 * - Responsive design with Tailwind CSS
 * 
 * Security Considerations:
 * - Passwords are never logged or exposed in error messages
 * - Email validation prevents basic injection attempts
 * - Form submission uses POST method via authenticated API
 * - CSRF protection handled at API level
 * 
 * @module components/auth/LoginForm
 * @requires react
 * @requires react-router-dom
 * @requires ../../context/AuthContext
 * @requires ../common/Input
 * @requires ../common/Button
 * 
 * @author mr.shaan
 * @version 1.0.0
 * @since 2025-12-16
 * 
 * @example
 * // Usage in React Router
 * &lt;Route path="/login" element={&lt;LoginForm />} />
 * 
 * @example
 * // With custom redirect
 * import { LoginForm } from './components/auth/LoginForm';
 * 
 * function App() {
 *   return (
 *     &lt;Routes>
 *       &lt;Route path="/login" element={&lt;LoginForm />} />
 *     &lt;/Routes>
 *   );
 * }
 */

import React, { useState } from 'react';
import { useNavigate, Link } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import Input from '../common/Input';
import Button from '../common/Button';


/**
 * LoginForm Component
 * 
 * Renders a secure login form with validation and error handling.
 * Integrates with AuthContext for authentication state management.
 * 
 * Component Lifecycle:
 * 1. User enters credentials
 * 2. Client-side validation on submit
 * 3. API authentication via AuthContext
 * 4. Navigation to dashboard on success
 * 5. Error display on failure
 * 
 * State Management:
 * - formData: User input (email, password)
 * - errors: Validation and API errors
 * - loading: From AuthContext during authentication
 * 
 * @component
 * @returns {React.ReactElement} Rendered login form component
 * 
 * @throws {Error} Propagates authentication errors to user via error state
 */
const LoginForm = () => {
  /**
   * React Router navigation hook for programmatic routing
   * @type {Function}
   */
  const navigate = useNavigate();
  
  /**
   * Authentication context providing login method and loading state
   * @type {Object}
   * @property {Function} login - Authenticates user with credentials
   * @property {boolean} loading - True during authentication request
   */
  const { login, loading } = useAuth();
  
  /**
   * Form input state object
   * @type {Object}
   * @property {string} email - User's email address
   * @property {string} password - User's password (plaintext, sent securely)
   */
  const [formData, setFormData] = useState({
    email: '',
    password: '',
  });
  
  /**
   * Form validation and API error state
   * @type {Object.&lt;string, string>}
   * @property {string} [email] - Email validation error message
   * @property {string} [password] - Password validation error message
   * @property {string} [submit] - API authentication error message
   */
  const [errors, setErrors] = useState({});


  /**
   * Handles input field changes and clears associated errors
   * 
   * Implements optimistic error clearing to improve UX by removing
   * validation errors as user corrects their input.
   * 
   * @function handleChange
   * @param {React.ChangeEvent&lt;HTMLInputElement>} e - Input change event
   * @returns {void}
   * 
   * @example
   * &lt;input name="email" onChange={handleChange} />
   */
  const handleChange = (e) => {
    const { name, value } = e.target;
    
    // Update form data immutably
    setFormData(prev => ({ ...prev, [name]: value }));
    
    // Clear field-specific error when user starts typing
    if (errors[name]) {
      setErrors(prev => ({ ...prev, [name]: null }));
    }
  };


  /**
   * Validates form data before submission
   * 
   * Validation Rules:
   * - Email: Required, must match email pattern
   * - Password: Required
   * 
   * @function validate
   * @returns {Object.&lt;string, string>} Object containing field errors
   * @returns {string} [return.email] - Email validation error
   * @returns {string} [return.password] - Password validation error
   * 
   * @example
   * const errors = validate();
   * if (Object.keys(errors).length > 0) {
   *   // Handle validation errors
   * }
   */
  const validate = () => {
    const newErrors = {};
    
    // Email validation
    if (!formData.email.trim()) {
      newErrors.email = 'Email is required';
    } else if (!/\S+@\S+\.\S+/.test(formData.email)) {
      newErrors.email = 'Email is invalid';
    }
    
    // Password validation
    if (!formData.password) {
      newErrors.password = 'Password is required';
    }
    
    return newErrors;
  };


  /**
   * Handles form submission with validation and authentication
   * 
   * Submission Flow:
   * 1. Prevents default form submission
   * 2. Validates form data
   * 3. Returns early if validation fails
   * 4. Calls login method from AuthContext
   * 5. Navigates to dashboard on success
   * 6. Displays error message on failure
   * 
   * Security Notes:
   * - Password transmitted over HTTPS only
   * - Authentication handled by backend API
   * - JWT token stored securely by AuthContext
   * 
   * @async
   * @function handleSubmit
   * @param {React.FormEvent&lt;HTMLFormElement>} e - Form submission event
   * @returns {Promise&lt;void>}
   * 
   * @throws {Error} Authentication errors are caught and displayed to user
   * 
   * @example
   * &lt;form onSubmit={handleSubmit}>
   *   // form fields
   * &lt;/form>
   */
  const handleSubmit = async (e) => {
    e.preventDefault();
    
    // Client-side validation
    const newErrors = validate();
    if (Object.keys(newErrors).length > 0) {
      setErrors(newErrors);
      return;
    }

    try {
      // Authenticate user via AuthContext
      await login(formData);
      
      // Navigate to dashboard on successful authentication
      navigate('/dashboard');
    } catch (error) {
      // Display authentication error to user
      // Error message already sanitized by AuthService
      setErrors({ submit: error.message });
    }
  };


  /**
   * Render Method
   * 
   * Layout Structure:
   * - Full-screen centered container
   * - Gradient background
   * - White card with form
   * - Input fields with icons
   * - Error messages
   * - Submit button with loading state
   * - Sign-up link
   * 
   * Accessibility Features:
   * - Semantic HTML (form, label, input)
   * - Required field indicators
   * - Error announcements
   * - Keyboard navigation support
   * - Focus management
   */
  return (
    &lt;div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-gray-100 px-4">
      &lt;div className="card max-w-md w-full">
        {/* Form Header */}
        &lt;div className="text-center mb-8">
          &lt;h1 className="text-3xl font-bold text-gray-900 mb-2">Welcome Back&lt;/h1>
          &lt;p className="text-gray-600">Sign in to your account&lt;/p>
        &lt;/div>

        {/* Login Form */}
        &lt;form onSubmit={handleSubmit} className="space-y-6" noValidate>
          {/* Email Input Field */}
          &lt;Input
            label="Email Address"
            type="email"
            name="email"
            value={formData.email}
            onChange={handleChange}
            placeholder="john@example.com"
            required
            error={errors.email}
            icon={
              &lt;svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
              &lt;/svg>
            }
          />

          {/* Password Input Field */}
          &lt;Input
            label="Password"
            type="password"
            name="password"
            value={formData.password}
            onChange={handleChange}
            placeholder="••••••••"
            required
            error={errors.password}
            icon={
              &lt;svg className="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                &lt;path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
              &lt;/svg>
            }
          />

          {/* API Error Message Display */}
          {errors.submit &amp;&amp; (
            &lt;div 
              className="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg"
              role="alert"
              aria-live="assertive"
            >
              {errors.submit}
            &lt;/div>
          )}

          {/* Submit Button */}
          &lt;Button 
            type="submit" 
            fullWidth 
            loading={loading}
            aria-label={loading ? 'Signing in...' : 'Sign in to your account'}
          >
            Sign In
          &lt;/Button>

          {/* Sign-up Link */}
          &lt;p className="text-center text-sm text-gray-600">
            Don't have an account?{' '}
            &lt;Link 
              to="/signup" 
              className="text-orange-600 hover:text-orange-700 font-semibold transition-colors"
              aria-label="Navigate to sign up page"
            >
              Sign up
            &lt;/Link>
          &lt;/p>
        &lt;/form>
      &lt;/div>
    &lt;/div>
  );
};


export default LoginForm;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-components_auth_LoginForm.html">components/auth/LoginForm</a></li><li><a href="module-components_auth_SignupForm.html">components/auth/SignupForm</a></li><li><a href="module-components_common_Input.html">components/common/Input</a></li><li><a href="module-components_common_ProtectedRoute.html">components/common/ProtectedRoute</a></li><li><a href="module-components_layout_Header.html">components/layout/Header</a></li><li><a href="module-context_AuthContext.html">context/AuthContext</a></li><li><a href="module-services_ApiClient.html">services/ApiClient</a></li><li><a href="module-services_AuthService.html">services/AuthService</a></li><li><a href="module-utils_TokenManager.html">utils/TokenManager</a></li></ul><h3>Classes</h3><ul><li><a href="module-services_ApiClient-ApiClient.html">ApiClient</a></li><li><a href="module-services_AuthService-AuthService.html">AuthService</a></li><li><a href="module-utils_TokenManager-TokenManager.html">TokenManager</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.5</a> on Tue Dec 16 2025 02:17:08 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
